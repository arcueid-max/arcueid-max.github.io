<body>
  <!-- 导航栏 -->
  <div id="navbar"></div>

  <!-- 主体 -->
  <div class="container">
    <h2>欢迎来到答而有据 🎉</h2>
    <p>这是我们的 RAG 知识增强问答学习平台。</p>

    <!-- 成果展示区块 -->
    <div class="highlight">
      <h3>✨ 立即体验我们的成果</h3>
      <p>输入你的问题，马上获得智能回答：</p>

      <input id="question" type="text" placeholder="请输入你的问题..." />
      <button onclick="ask()">提交 🚀</button>
      <pre id="answer"></pre>
    </div>
  </div>

  <!-- 页脚 -->
  <div id="footer"></div>

  <!-- 动态加载导航 & 页脚 -->
  <script>
    fetch("navbar.html")
      .then(r => r.text())
      .then(d => document.getElementById("navbar").innerHTML = d);

    fetch("footer.html")
      .then(r => r.text())
      .then(d => document.getElementById("footer").innerHTML = d);

    // ========= 配置区 =========
    const apiEnabled = false; // 🚧 开发阶段 = false，上线后改为 true
    const apiURL = "https://你的后端地址/ask"; // ✅ 上线后替换成你们的 API 地址
    // ========================

    async function ask() {
      const q = document.getElementById("question").value.trim();
      if (!q) {
        document.getElementById("answer").textContent = "⚠️ 请输入一个问题";
        return;
      }

      document.getElementById("answer").textContent = "🤔 正在思考中...";

      if (apiEnabled) {
        try {
          let res = await fetch(apiURL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ question: q })
          });
          let data = await res.json();
          document.getElementById("answer").textContent = "✅ 回答：" + data.answer;
        } catch (err) {
          document.getElementById("answer").textContent = "❌ 调用后端失败，请稍后再试";
        }
      } else {
        // 本地模拟回答
        document.getElementById("answer").textContent = 
          "🛠️ 模拟回答：你问了「" + q + "」，" +
          "当前演示版未连接后端，敬请期待正式上线！";
      }
    }
  </script>
</body>

<style>
  .highlight {
    margin: 40px auto;
    padding: 30px;
    max-width: 700px;
    text-align: center;
    background: linear-gradient(135deg, #007bff, #00c6ff);
    color: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
  .highlight h3 {
    margin-bottom: 15px;
    font-size: 22px;
  }
  .highlight p {
    margin-bottom: 20px;
    font-size: 16px;
  }
  input {
    width: 70%;
    padding: 12px;
    border: none;
    border-radius: 8px;
    margin-bottom: 12px;
  }
  button {
    padding: 12px 24px;
    background: #fff;
    color: #007bff;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: #f0f0f0;
  }
  pre {
    text-align: left;
    margin-top: 20px;
    background: rgba(255,255,255,0.15);
    padding: 12px;
    border-radius: 8px;
    white-space: pre-wrap;
  }
</style>
